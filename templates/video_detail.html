{% extends "base.html" %}
{% load static %}

{% block title %}{{ video.title }}{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/video.css' %}">
{% endblock %}

{% block content %}
<section class="blog-detail-section video-detail-page">
    <div class="container">
        <div class="video-player-wrapper">
            <iframe width="100%" height="500" src="{{ video.get_embed_url }}" title="YouTube video player"
                frameborder="0"
                allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
                referrerpolicy="strict-origin-when-cross-origin" allowfullscreen loading="lazy">
            </iframe>
        </div>

        <div class="video-content-area">
            <h1 class="video-main-title">{{ video.title }}</h1>
            <div class="video-meta">
                {% if video.category %}<span>Category: {{ video.category.name }}</span>{% endif %}
                <span>Published on: {{ video.published_date|date:"F d, Y" }}</span>
            </div>
            <div class="video-description">
                {{ video.description|linebreaks }}
            </div>
        </div>

        <!-- SMART BACK BUTTON -->
        <div class="back-to-videos">
            <a href="{% url 'video_list' %}?{{ request.META.QUERY_STRING }}" class="btn secondary-btn">
                Back to Videos
            </a>
        </div>
    </div>
</section>
{% endblock %}