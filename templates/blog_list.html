{% extends "base.html" %}
{% load static %}

{% block title %}Sudeesh Sathya - Blog{% endblock %}

{% block extra_css %}
    <link rel="stylesheet" href="{% static 'css/blog.css' %}">
{% endblock %}

{% block content %}
<section class="blog-list-section">
    <div class="container">
        <h1 class="page-title">Blog</h1>
        <p class="section-description">Thoughts on technology, development, and creative projects.</p>

        <!-- THE WHOLE SWAPPABLE CONTENT -->
        <div id="content-container">
            {% include 'partials/blog_list_content.html' %}
        </div>
    </div>
</section>
{% endblock %}

{% block extra_js %}
<script>
    document.addEventListener('DOMContentLoaded', function () {
        const params = new URLSearchParams(window.location.search);
        const scrollTo = params.get('scroll_to');
        if (scrollTo) {
            const target = document.getElementById('card-' + scrollTo);
            if (target) {
                target.scrollIntoView({ behavior: 'smooth', block: 'center' });
                target.style.transition = 'background-color 0.6s ease';
                target.style.backgroundColor = '#fff8e1';
                setTimeout(() => {
                    target.style.backgroundColor = '';
                }, 1800);
            }
            // Clean URL after scroll
            params.delete('scroll_to');
            const newUrl = window.location.pathname + (params.toString() ? '?' + params.toString() : '');
            history.replaceState(null, '', newUrl);
        }
    });
</script>
{% endblock %}